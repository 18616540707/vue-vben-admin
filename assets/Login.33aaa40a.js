import{d as a,_ as s,A as e,r as o,u as l,a as t,L as n,b as r,c as i,e as c,f as d,t as u,g as m,h as f,o as g,i as p,j as w,k as _,l as v,w as y,m as b}from"./index.ca0293b2.js";import"./index.8aafcec1.js";import{I as h}from"./index.f630c8e6.js";import{C as j,F as k}from"./index.8931e3d6.js";import{R as x,C as L}from"./index.7df2bb45.js";import"./vendor.3b1829c7.js";import"./responsiveObserve.c545f1cc.js";import"./SearchOutlined.d9cc3823.js";import"./EyeOutlined.ba199c78.js";import"./findIndex.a959c21e.js";import"./isEqual.6bad97d6.js";import"./_baseProperty.74f89655.js";import"./toInteger.34722792.js";var P=a({components:{[j.name]:j,[k.name]:k,[k.Item.name]:k.Item,[h.name]:h,[h.Password.name]:h.Password,AButton:s,AppLocalePicker:e,[x.name]:x,[L.name]:L},setup(){const a=o(null),s=o(!1),e=r(),{locale:f}=i(),{notification:g}=m(),{t:p}=l(),w=t({account:"vben",password:"123456"}),_=t({loading:!1}),v=t({account:[{required:!0,message:p("sys.login.accountPlaceholder"),trigger:"blur"}],password:[{required:!0,message:p("sys.login.passwordPlaceholder"),trigger:"blur"}]});return{formRef:a,formData:w,formState:_,formRules:v,login:async function(){const s=c(a);if(s){_.loading=!0;try{const a=await s.validate(),e=await d.login(u({password:a.password,username:a.account}));e&&g.success({message:p("sys.login.loginSuccessTitle"),description:`${p("sys.login.loginSuccessDesc")}: ${e.realName}`,duration:3})}catch(e){}finally{_.loading=!1}}},autoLogin:s,title:e&&e.title,logo:n,t:p,showLocale:f.show}}});const D={class:"login"},z=w("div",{class:"login-mask"},null,-1),I={class:"login-form-wrap"},R={class:"login-form mx-6"},S={class:"login-form__content px-2 py-10"};P.render=function(a,s,e,o,l,t){const n=f("AppLocalePicker"),r=f("a-input"),i=f("a-form-item"),c=f("a-input-password"),d=f("a-checkbox"),u=f("a-col"),m=f("a-button"),h=f("a-row"),j=f("a-form");return g(),p("div",D,[z,w("div",I,[w("div",R,[a.showLocale?(g(),p(n,{key:0,class:"login-form__locale"})):_("",!0),w("div",S,[w("header",null,[w("img",{src:a.logo,class:"mr-4"},null,8,["src"]),w("h1",null,v(a.title),1)]),w(j,{class:"login-form__main",model:a.formData,rules:a.formRules,ref:"formRef"},{default:y((()=>[w(i,{name:"account"},{default:y((()=>[w(r,{size:"large",value:a.formData.account,"onUpdate:value":s[1]||(s[1]=s=>a.formData.account=s),placeholder:"username: vben"},null,8,["value"])])),_:1}),w(i,{name:"password"},{default:y((()=>[w(c,{size:"large",visibilityToggle:"",value:a.formData.password,"onUpdate:value":s[2]||(s[2]=s=>a.formData.password=s),placeholder:"password: 123456"},null,8,["value"])])),_:1}),w(h,null,{default:y((()=>[w(u,{span:12},{default:y((()=>[w(i,null,{default:y((()=>[w(d,{checked:a.autoLogin,"onUpdate:checked":s[3]||(s[3]=s=>a.autoLogin=s),size:"small"},{default:y((()=>[b(v(a.t("sys.login.autoLogin")),1)])),_:1},8,["checked"])])),_:1})])),_:1}),w(u,{span:12},{default:y((()=>[w(i,{style:{"text-align":"right"}},{default:y((()=>[w(m,{type:"link",size:"small"},{default:y((()=>[b(v(a.t("sys.login.forgetPassword")),1)])),_:1})])),_:1})])),_:1})])),_:1}),w(i,null,{default:y((()=>[w(m,{type:"primary",size:"large",class:"rounded-sm",block:!0,onClick:a.login,loading:a.formState.loading},{default:y((()=>[b(v(a.t("sys.login.loginButton")),1)])),_:1},8,["onClick","loading"])])),_:1})])),_:1},8,["model","rules"])])])])])};export default P;
